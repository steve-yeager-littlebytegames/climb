@model Climb.ViewModels.Tournaments.Test

@{
    Layout = "";
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="google" content="notranslate">
    <partial name="./_Files"/>
</head>
<body class="text-center">
<script src="~/lib/jquery/dist/jquery.min.js" type="text/javascript"></script>
<script src="~/lib/jquery-bracket/jquery.bracket.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="~/lib/jquery-bracket/jquery.bracket.min.css"/>


<div id="bracket" style="overflow: auto"></div>

<div>
    <h2>Winners</h2>
    @foreach(var round in Model.Tournament.Winners.Rounds)
    {
        <h3>Round @round.Index</h3>
        foreach(var game in round.Games)
        {
            <div>@game</div>
        }
    }

    <h2>Losers</h2>
    @foreach(var round in Model.Tournament.Losers.Rounds)
    {
        <h3>Round @round.Index</h3>
        foreach(var game in round.Games)
        {
            <div>@game</div>
        }
    }
</div>

<script type="text/javascript">
    var doubleElimination = @Html.Raw(Model.BracketData);

    var container = $('#bracket');
    container.bracket({
        skipConsolationRound: true,
        init: doubleElimination
    });

</script>
</body>

</html>